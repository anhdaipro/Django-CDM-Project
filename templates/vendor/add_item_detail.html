{% extends "vendor/base.html" %}
{% load crispy_forms_tags %}
{% block title %}
    Add Item
{% endblock %}

{% block content %}
<main>
    <div class="container" >
    
        {{user}}
        <div class="order">
            <h5 class="text">thông tin cơ bản</h5>
            <div class="image_upload">
                <div class="text">
                    <h5>Hình sản phẩm</h5>
                </div>
                
                <div class="flex-container">
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview" onclick="change(`file`)">
                            <input type="file" name="file" accept="image/*" multiple class="cover_image" onchange="previewFiles(`file`,`preview`)">
                            <div class="cricle">+</div>
                            
                        </div>
                        <p>Cover Image*</p> 
                    </div>
                
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview1" onclick="change(`file1`)">
                            <input type="file" name="file1" accept="image/*" multiple class="image1" onchange="previewFiles(`file1`,`preview1`)">
                            <div class="cricle">+</div>
                        </div>
                        <p>Image1</p>
                    </div>
                    <div class="d-flex flex-column ">
                        <div class="waves-effect" name="preview2" onclick="change(`file2`)">
                            <input type="file" name="file2" accept="image/*" multiple class="image2" onchange="previewFiles(`file2`,`preview2`)">
                            <div class="cricle">+</div>
                        </div> 
                        <p>Image2</p> 
                    </div>
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview3" onclick="change(`file3`)"> 
                            <input type="file" name="file3" accept="image/*" multiple class="image3" onchange="previewFiles(`file3`,`preview3`)">
                            <div class="cricle">+</div>
                        </div>
                        <p>Image3</p> 
                    </div>
                    
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview4" onclick="change(`file4`)">
                            <input type="file" name="file4" accept="image/*" multiple class="image4" onchange="previewFiles(`file4`,`preview4`)">
                            <div class="cricle">+</div>
                        </div>
                        <p>Image4</p>
                    </div>
                    
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview5" onclick="change(`file5`)">
                            <input type="file" name="file5" accept="image/*" multiple class="image5" onchange="previewFiles(`file5`,`preview5`)">
                            <div class="cricle">+</div>
                        </div>
                        <p>Image5</p>
                    </div>
                    
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview6" onclick="change(`file6`)"> 
                            <input type="file" name="file6" accept="image/*" multiple class="image6" onchange="previewFiles(`file6`,`preview6`)">
                            <div class="cricle">+</div>
                        </div>
                        <p>Image6</p> 
                    </div>
                    <div class="d-flex flex-column">
                        <div class="waves-effect" name="preview7" onclick="change(`file7`)">
                            <input type="file" name="file7" accept="image/*" multiple class="image7" onchange="previewFiles(`file7`,`preview7`)">
                            <div class="cricle">+</div>
                        </div>
                        <p>Image7</p> 
                    </div>
                    
                </div>
            </div>
            <div class="image_upload">
                <div class="text">
                    <h5 class="">Video product</h5>
                </div>
                
                <div class="flex-container">
                    <div class="d-flex flex-column ">
                        <div class="waves-effect" name="preview9" onclick="change(`file9`)">
                            <video  muted loop name="video">  
                            </video>
                            <input type="file" name="file9" accept="video/*"  class="video" >
                            <div name="cricle">+</div>
                        </div>
                        <p>Video</p> 
                    </div>
                </div>
                <div>
                    <p>1. Size: Up to 30Mb, resolution not exceeding 1280x1280px</p>
                        
                    <p>2. Length: 10s-60s</p>    
                        
                    <p>3. Format: MP4 (doesn't support vp9)</p>    
                        
                    <p>4. Note: product may display while video is being processed. The video will automatically display after it has been processed successfully. </p>    
                    
                </div>
                
            </div>
            <div class="d-flex align-items-center mb-4">
                <div class="mr-3 text">
                <label for="nameproduct" >Name Product*</label>
                </div>
                <div > 
                    <input type="text" class="form-control name" value="{{items.name}}" name="nameproduct" placeholder="Name Product" style="width: 500px;">
                </div>
            </div>
            <div class="d-flex align-items-center mb-4">
                <div class="mr-3 text">
                <label for="description" >Description*</label>
                </div>
                <div > 
                    <textarea name="" name="description" cols="100" rows="6" class="description" required></textarea>
                </div>
            </div>
        </div>
    
        <div class="order">
            
            
            
            <h5>thông tin chi tiết </h5>
            {% load mptt_tags %}
          
            <div class="detail_info">
                {% if category_child in women_clothes.get_family or category_child in men_clothes.get_family %}
                <div class="">
                    <label for="Select1">Brand Clothes</label>
                    <select class="form-control clothes" name="brand_clothes"  required >
                        <option >------------</option>
                        {% for i in brand_clothes %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Origin</label>
                    <select class="form-control clothes" name="origin" id="clothes" required >
                        <option >------------</option>
                        {% for i in origin %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Material</label>
                    <select class="form-control clothes" name="material" id="clothes">
                        <option >------------</option>
                        {% for i in material %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                
                <div class="">
                    <label for="Select1">Pants length</label>
                    <select class="form-control clothes" name="pants_length" id="clothes">
                        <option >------------</option>
                        {% for i in pants_length %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Petite</label>
                    <select class="form-control clothes" name="petite" id="clothes">
                        <option >------------</option>
                        {% for i in petite %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Sample</label>
                    <select class="form-control clothes" name="sample" id="clothes">
                        <option >------------</option>
                        {% for i in sample %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Season</label>
                    <select class="form-control clothes" name="season" id="clothes">
                        <option >------------</option>
                        {% for i in season %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Style</label>
                    <select class="form-control clothes" name="style" id="clothes">
                        <option >------------</option>
                        {% for i in style %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="Select1">Waist version</label>
                    <select class="form-control clothes" name="waist_version" id="clothes">
                        <option >------------</option>
                        {% for i in waist_version %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                
                <div class="">
                    <label for="Select1">Pants Style</label>
                    <select class="form-control clothes" name="pants_style" id="clothes">
                        <option >------------</option>
                        {% for i in pants_style %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                {%endif%}
            </div>
            
            <div class="detail_info">
                {%if category_child in beauty.get_family %}
                <div class="">
                    <label for="brand_beaty">Brand Beaty</label>
                    <select class="form-control beauty" name="brand_beaty"  required >
                        <option >------------</option>
                        {% for i in brand_beaty %}
                        <option value="{{i.name}}">{{i.name}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="packing_type">packing_type</label>
                    <select class="form-control beauty" name="packing_type" >
                        <option >------------</option>
                        {% for key,value in packing_type %}
                        <option value="{{key}}">{{value}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="formula">formula</label>
                    <select class="form-control beauty" name="formula">
                        <option>------------</option>
                        {% for i in formula %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="expiry">expiry</label>
                    <select class="form-control beauty" name="expiry">
                        <option >------------</option>
                        {% for i in expiry %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="body_care">body_care</label>
                    <select class="form-control beauty" name="body_care">
                        <option >------------</option>
                        {% for i in body_care %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="active_ingredients">active_ingredients</label>
                    <select class="form-control beauty" name="active_ingredients">
                        <option >------------</option>
                        {% for i in active_ingredients %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="type_of_nutrition">type_of_nutrition</label>
                    <select class="form-control beauty" name="type_of_nutrition">
                        <option >------------</option>
                        {% for i in type_of_nutrition %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="volume">volume</label>
                    <select class="form-control beauty" name="volume">
                        <option >------------</option>
                        {% for i in volume %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="sale_info">
                    <div class="mr-3">
                    <label for="date_expiry" >date_expiry</label>
                    </div>
                    <div > 
                        <input type="date" class="form-control date_expiry" min="2000-01-01" max="2060-12-31" name="date_expiry" placeholder="Enter" style="width: 400px;">
                    </div>
                </div>
                <div class="sale_info">
                    <div class="mr-3">
                    <label for="ingredient" >ingredient</label>
                    </div>
                    <div > 
                        <input type="text" class="form-control ingredient" name="ingredient" placeholder="Enter" style="width: 400px;" >
                    </div>
                </div>
                {%endif%}
                
            </div>
            <div class="detail_info">
                {%if category_child in men_shoes.get_family %}
                <div class="">
                    <label for="shoe_brand">Brand Shoe</label>
                    <select class="form-control shoe" name="shoe_brand" required >
                        <option >------------</option>
                        {% for i in shoe_brand %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="shoe_material">Shoe material</label>
                    <select class="form-control shoe" name="shoe_material" >
                        <option >------------</option>
                        {% for i in shoe_material %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
               
        
                <div class="">
                    <label for="formula">Buckle type</label>
                    <select class="form-control shoe" name="shoe_buckle_type">
                        <option>------------</option>
                        {% for i in shoe_buckle_type %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="leather_outside">Leather outside</label>
                    <select class="form-control shoe" name="leather_outside">
                        <option >------------</option>
                        {% for i in leather_outside %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
               
       
                <div class="">
                    <label for="marker_style">Marker Style</label>
                    <select class="form-control shoe" name="marker_style">
                        <option >------------</option>
                        {% for i in marker_style %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="shoe_occasion">Occasion</label>
                    <select class="form-control shoe" name="shoe_occasion">
                        <option >------------</option>
                        {% for i in shoe_occasion %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="origin">Origin</label>
                    <select class="form-control shoe" name="origin">
                        <option >------------</option>
                        {% for i in  origin %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="high_heel">High heel</label>
                    <select class="form-control shoe" name="high_heel" >
                        <option >------------</option>
                        {% for i in  high_heel %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                
                <div class="">
                    <label for="shoe_leather_type">Shoe_leather_type</label>
                    <select class="form-control shoe"  name="shoe_leather_type">
                        <option >------------</option>
                        {% for i in shoe_leather_type %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="suitable_width">Shoe_leather_type</label>
                    <select class="form-control shoe" name="suitable_width">
                        <option >------------</option>
                        {% for i in suitable_width %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
               
                {%endif%}
                
            </div>
            
            <div class="detail_info">
                {%if category_child in mobile_gadgets.get_family%}
                <div class="">
                    <label for="brand_mobile_gadgets">Brand mobile gadgets</label>
                    <select class="form-control mobile" name="brand_mobile_gadgets" required>
                        <option >------------</option>
                        {% for i in brand_mobile_gadgets %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="sim">Sim</label>
                    <select class="form-control mobile" name="sim" >
                        <option >------------</option>
                        {% for i in sim %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="warranty_period">warranty_period</label>
                    <select class="form-control mobile" name="warranty_period">
                        <option >------------</option>
                        {% for i in warranty_period %}
                        <option value="{{i.time}}">{{i.time}}</option>
                        {%endfor%}
                    </select>
                </div>
                
                <div class="">
                    <label for="ram">Ram</label>
                    <select class="form-control mobile" name="ram">
                        <option >------------</option>
                        {% for i in ram %}
                        <option value="{{i.ram}}">{{i.ram}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="memory">Memory</label>
                    <select class="form-control mobile" name="memory">
                        <option >------------</option>
                        {% for i in memory %}
                        <option value="{{i.memory}}">{{i.memory}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="status">Status</label>
                    <select class="form-control mobile" name="status">
                        <option >------------</option>
                        {% for i in status %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="warranty_type">warranty_type</label>
                    <select class="form-control mobile" name="warranty_type">
                        <option >------------</option>
                        {% for i in warranty_type %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="processor">processor</label>
                    <select class="form-control mobile" name="processor">
                        <option >------------</option>
                        {% for i in processor %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="screen">screen</label>
                    <select class="form-control mobile" name="screen">
                        <option >------------</option>
                        {% for i in screen %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                
                <div class="">
                    <label for="phone_features">phone_features</label>
                    <select class="form-control mobile" name="phone_features">
                        <option >------------</option>
                        {% for i in phone_features %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
               
                <div class="">
                    <label for="operating_system">operating_system</label>
                    <select class="form-control mobile" name="operating_system">
                        <option >------------</option>
                        {% for i in operating_system %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="">
                    <label for="telephone_cables mobile">telephone_cables</label>
                    <select class="form-control" name="telephone_cables">
                        <option >------------</option>
                        {% for i in telephone_cables %}
                        <option value="{{i.title}}">{{i.title}}</option>
                        {%endfor%}
                    </select>
                </div>
                {%endif%}
            </div>
            
        </div>  
        
        <div class="order">
            <h5>thông tin bán hàng </h5>
            <div class="sale_info">
                <div class="mr-3">
                <label for="price" >Price</label>
                </div>
                <div > 
                    <input type="text" class="form-control price" name="price" placeholder="Enter" style="width: 400px;" required>
                </div>
            </div>
            <div class="sale_info">
                <div class="mr-3">
                    <label for="discount_price" >Discount Product</label>
                </div>
                <div > 
                    <input type="text" class="form-control discount_price" name="discount_price" placeholder="Enter" style="width: 400px;" required>
                </div>
            </div>
            <div class="sale_info">
                <div class="mr-3">
                    <label for="inventory" >Inventory</label>
                </div>
                <div > 
                    <input type="text" class="form-control inventory" name="inventory"  style="width: 400px;" required>
                </div>
            </div>
            <div>
                <div>Phân loại hàng 1</div>
                <div>
                    <div class="sale_info">
                        <div class="mr-3">
                            <label for="size" >Size</label>
                        </div>
                        <div > 
                            <input type="text" class="form-control size" name="size"  style="width: 400px;" required>
                        </div>
                    </div>
                </div>
                <div>Phân loại hàng 2</div>
                <div class="sale_info">
                    <div class="mr-3">
                        <label for="color" >Color</label>
                    </div>
                    <div > 
                        <input type="text" class="form-control color" name="color"  style="width: 400px;" required>
                    </div>
                </div>
            </div>
            
            <div class="sale_info">
                <div class="mr-3">
                    
                </div>
                <div class="waves-effect" name="preview8" onclick="change(`file8`)">
                    <input type="file" name="file8" accept="image/*" multiple class="color_image" onchange="previewFiles(`file8`,`preview8`)">
                    <div class="cricle">+</div>
                </div>
            </div>
            
        </div>

        <div class="order">
            <h5>Delivery</h5>
            <div class="sale_info">
                <div class="mr-3">
                    <label for="price" >Weigth</label>
                </div>
                <div class="anh" style="width: 400px;height:40px;"> 
                    <input type="text" class="form-control weigth" name="weigth" placeholder="Enter" style="width: 400px;height:40px;" required>
                    <div class="mr-1 field-icon">
                        gr
                    </div>
                </div>
            </div>
            <div class="sale_info">
                <div class="mr-3">
                    <label for="discount_price" >Kích thước đóng gói</label>
                </div>
                <div class="d-flex ">
                    <div class="anh">
                        <input type="text" class="form-control width" name=" width" placeholder="R" style="width: 200px;" required>
                        <div class="mr-1 field-icon">cm</div>
                    </div> 
                    <div class="anh mx-3">
                        <input type="text" class="form-control length" name="length" placeholder="D" style="width: 200px;" required>
                        <div class="mr-1 field-icon">cm</div>
                    </div>
                    <div class="anh">
                        <input type="text" class="form-control height" name="height" placeholder="C" style="width: 200px;" required>
                        <div class="mr-1 field-icon">cm</div>
                    </div>
                    
                </div>
            </div>
            <div class="sale_info">
                <div class="mr-3 ">
                    <label for="inventory" >Fee Delivery</label>
                </div>
                <div class="d-flex flex-column">
                    {% for i in shipping %}
                    <div class="d-flex" style="width: 600px;" >
                        {% ifchanged  %} 
                        <div style="width: 200px;">
                        <p class="method" data="{{i.method}}">{{i.method}}</p>
                        </div>
                        <div class="mx-3" style="width: 200px;">
                            SHOPEE VẬN CHUYỂN
                        </div>
                        <div class="d-flex align-items-center" style="width: 100px;">
                            <p class="fee_shipping mr-2" style="font-size: 12px;"></p><i class="fas fa-pen d-none" style="font-size: 12px;"></i>
                        </div>
                        
                        <div>
                            <label class="switch">
                                <input type="checkbox" class="switch-input">
                                <span class="switch-label" data-on="On" data-off="Off"></span>
                                <span class="switch-handle"></span>
                            </label>
                        </div>
                        
                        {% endifchanged %}
                    </div>
                    
                    {% ifchanged  %} 
                        <span value="{{i.shipping_unit}}">{{i.shipping_unit}}</span>
                    {% endifchanged %}
                        
                    {%endfor%}
                    
                    
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-end mr-3">
            <button class="btn btn-info " type="button">Cancel</button>
            <button class="btn btn-info mx-3" type="button">Save and hiden</button>
            <button class="btn btn-info submits" type="button">Save and display</button> 
        </div>    
        
   
    </div>
        
</main>
<script>
    let fee = document.querySelectorAll('.fee_shipping')
    let weigth= document.querySelector('.weigth')
    let method= document.querySelectorAll('.method')
    let pen = document.querySelectorAll('.fa-pen')
    weigth.oninput=()=>{
        for(let i=0;i<method.length;i++){
            for(let j=0;j<fee.length;j++){   
        if (weigth.value > 500 && weigth.value < 1500 && method[i].textContent === "Nhanh" && j===i ){
            
        fee[j].innerHTML='1.0 USD'
        pen[j].style.display='block'
        }
        if (weigth.value <= 500 && weigth.value > 0 && method[i].textContent === "Nhanh" && j===i){
            fee[j].innerHTML='0.8 USD'
            pen[j].classList.remove('d-none')
        }
        if (weigth.value > 500 && weigth.value < 1500 && method[i].textContent === "Tiết kiệm" && j===i){
            fee[j].innerHTML='0.8 USD'
            pen[j].classList.remove('d-none')
            }
        if (weigth.value <= 500 && weigth.value > 0 && method[i].textContent === "Tiết kiệm" && j===i){
                fee[j].innerHTML='0.6 USD'
                pen[j].classList.remove('d-none')
            }
        if (weigth.value > 1700  && j===i){
                fee[j].innerHTML='0.6 USD'
                pen[j].classList.remove('d-none')
            }
        if (weigth.value ==='' ){
            fee[j].innerHTML=''
            pen[j].classList.add('d-none')
            
            } 
        }   
    }
}
    

    var id= "id"
    var value= "value"
    function change(value){
        var image   = document.getElementById(value);
        image.click()
    }

    const input = document.getElementById('file9');
    const video = document.getElementById('video');
    const videoSource = document.createElement('source');
    const video_cricle = document.getElementById('cricle');

    input.addEventListener('change', function() {
    const files = this.files || [];
    if (!files.length) return;
    const reader = new FileReader();

    reader.onload = function (e) {
    videoSource.setAttribute('src', e.target.result);
    video.appendChild(videoSource);
    video.load();
    video_cricle.style.display='none'
    };
  
    reader.onprogress = function (e) {
    console.log('progress: ', Math.round((e.loaded * 100) / e.total));
    };
  
    reader.readAsDataURL(files[0]);
    });

    function previewFiles(value,id) {
        
        var preview = document.getElementById(id);
        var files   = document.getElementById(value).files;
      
        function readAndPreview(file) {
      
          // Make sure `file.name` matches our extensions criteria
          if ( /\.(jpe?g|png|gif)$/i.test(file.name) ) {
            var reader = new FileReader();
      
            reader.addEventListener("load", function () {
              var image = new Image();
              image.width = 70;
              image.title = file.name;
              image.src = this.result;
              preview.appendChild( image );
            }, false);
      
            reader.readAsDataURL(file);
          }
      
        }
      
        if (files) {
          [].forEach.call(files, readAndPreview);
        }
      
      }

    
</script>

<script>
    const buttons= document.querySelector(".submits");
    let category_item = document.querySelectorAll("#category")
    for(let i=0;i<category_item.length;i++){
        category_item[i].addEventListener("click", ()=>{
        category_item[i].classList.add('selected')
        for(let j=0;j<category_item.length;j++){
            if(i!==j){   
            category_item[j].classList.remove('selected')
            }
        }
    }
)}

    for(let i=0;i<category_item.length;i++){
        category_item[i].addEventListener("click", ()=>{
            category_item[i].classList.add('selected')
        for(let j=0;j<category_item.length;j++){
            if(i!==j){   
            category_item[j].classList.remove('selected')
            
            }
        }
    }
)}
    for(let i=0;i<category_item.length;i++){
        category_item[i].addEventListener("click", ()=>{
        category_item[i].classList.add('selected')
        for(let j=0;j<category_item.length;j++){
            if(i!==j){   
                category_item[j].classList.remove('selected')      
            }
        }
    }
)}                            
       
    
    buttons.addEventListener("click", (e)=>{
        e.preventDefault();
        let color_image = document.querySelector(".color_image").files[0]
        let image_cover = document.querySelector(".cover_image").files[0]
        let image1 = document.querySelector(".image1").files[0]
        let image2 = document.querySelector(".image2").files[0]
        let image3 = document.querySelector(".image3").files[0]
        let image4 = document.querySelector(".image4").files[0]
        let image5 = document.querySelector(".image5").files[0]
        let image6 = document.querySelector(".image6").files[0]
        let image7 = document.querySelector(".image7").files[0]
        let video = document.querySelector(".video").files[0]
        let name = document.querySelector(".name").value;
        const description= document.querySelector('.description').value;
        document.querySelector('.description').validity.valid
        document.querySelector(".name").validity.valid
        /*---------------------------beaty---
            'brand_beaty':brand_beaty,
            'packing_type':packing_type,
            'formula':formula,
            'expiry':expiry,
            'body_care':body_care,
            'active_ingredients':active_ingredients,
            'type_of_nutrition':type_of_nutrition,
            'volume':volume,
            'date_expiry',
            'ingredient'
        ---------------------*/
        
        let price = document.querySelector(".price").value;
        let size = document.querySelector(".size").value;
        let color = document.querySelector(".color").value;
        let inventory = document.querySelector(".inventory").value;
        let discount_price = document.querySelector(".discount_price").value;
        let weight=document.querySelector('.weigth').value
        let height=document.querySelector('.height').value
        let length=document.querySelector('.length').value
        let width=document.querySelector('.width').value
        let method=document.querySelector('.method').getAttribute('data')
        const form = new FormData()
        form.append('weight',weight)
        form.append('height',height)
        form.append('length',length)
        form.append('width',width)
        form.append('method',method)
        form.append('description',description)
        form.append('inventory',inventory)
        form.append('price',price)
        form.append('size',size)
        form.append('color',color)
        form.append('discount_price',discount_price)
        form.append('image_cover',image_cover)
        form.append('color_image',color_image)
        form.append('name',name)
        form.append('image1',image1)
        form.append('image2',image2)
        form.append('image3',image3)
        form.append('image4',image4)
        form.append('image5',image5)
        form.append('image6',image6)
        form.append('image7',image7)
        form.append('video',video)

        
        if (document.querySelector('.clothes') !==null && document.querySelector('.clothes')!==undefined){
            let clothes=document.querySelectorAll('.clothes')
            for(let i=0;i<clothes.length;i++){
                form.append(clothes[i].getAttribute('name'),clothes[i].options[clothes[i].selectedIndex].value)
            }    
        }
        
        if (document.querySelector('.beauty') !==null && document.querySelector('.beauty')!==undefined){
            let beauty=document.querySelectorAll('.beauty')
            for(let i=0;i<beauty.length;i++){
                form.append(beauty[i].getAttribute('name'),beauty[i].options[beauty[i].selectedIndex].value)
            }
            var date_expiry= document.querySelector(".date_expiry").value;
            var ingredient= document.querySelector(".ingredient").value;
            form.append('date_expiry',date_expiry)
            form.append('ingredient',ingredient)
        }
    
        
        if (document.querySelector('.mobile') !==null && document.querySelector('.mobile')!==undefined){
            let mobile=document.querySelectorAll('.mobile')
            for(let i=0;i<mobile.length;i++){
                form.append(mobile[i].getAttribute('name'),mobile[i].options[mobile[i].selectedIndex].value)
            }  
        }

        if (document.querySelector('.shoe') !==null && document.querySelector('.shoe')!==undefined){
       let shoe =document.querySelectorAll('.shoe')
       for (let i=0;i<shoe.length;i++){
           form.append(shoe[i].getAttribute('name'),shoe[i].options[shoe[i].selectedIndex].value)
            }
        }

      function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
          const cookies = document.cookie.split(';');
          for (let i = 0; i < cookies.length; i++) {
              const cookie = cookies[i].trim();
              // Does this cookie string begin with the name we want?
              if (cookie.substring(0, name.length + 1) === (name + '=')) {
                  cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                  break;
                    }
                }
            }
        return cookieValue;
    }
    const csrftoken = getCookie('csrftoken');
    var url = "{% url 'vendor:add_item_detail' %}"
    
    fetch(url, {
        method: 'POST',
        credentials: 'same-origin',

        headers:{
            'Accept': 'application/json',
            'X-Requested-With': 'XMLHttpRequest', //Necessary to work with request.is_ajax()
            'X-CSRFToken': csrftoken,
        },
        body: form//JavaScript object of data to POST
        })
        .then(response => response.json())
        .then(result => {
        
        })
        .catch(error => console.error('Unable to get items.', error));
    }
)      
    

</script>  
{% endblock %}