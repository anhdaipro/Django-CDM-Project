{% extends "vendor/base.html" %}

{% block title %}
    Create New Shop
{% endblock %}

{% block content %}
<main class="container my-4">
	<!-- Featured Products -->
	<h3 class="my-4 border-bottom pb-1">My Dashboard</h3>
	<div class="row">
    <div class="chart_line_div">
      <div class="line_chart"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
        <canvas id="lineChart"  style="display: block; height: 457px; width: 667px;"  class="chartjs-render-monitor"></canvas>
      </div>
      <div class="pie_chart">
        <canvas id="pieChart"  style="display: block; height: 600px; width: 700px;"></canvas>
      </div>
    </div> 
	</div>
{{orders}}

</main>
    
    
               
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

<script type="text/javascript">
  
	const DATA_COUNT = 7;


var labels={{daynumber|safe}}
var total_amount ={{ total_amount_days }}
var total_ordered = {{total_order_days}}
let draw = Chart.controllers.line.prototype.draw;

var ctx = document.getElementById("lineChart").getContext("2d");
var labels = labels
  

Chart.defaults.global.legend.labels.usePointStyle = true;

var data = {
  
  labels: labels,
  datasets: [
    {
      fill: false,
      label: "doanh thu",
      data: total_amount,
      backgroundColor: 'rgb(255, 99, 132)',
      borderColor: 'rgb(255, 99, 132)',
      
    },
    {
      fill: false,
      label: "number order",
      data: order_ordered,
      borderColor: "rgb(80, 204, 168, 1)",
      backgroundColor: "rgb(80, 204, 168, 1)",
      fontSize:17,
      
    },
  ],
};

var options = {
  responsive: true,
  maintainAspectRatio: false,
  legend: {
    position: 'top'
    ,
    align:'end'
  },
  layout: {
    padding: {
      left: 50,
      right: 50,
      top: 50,
      bottom: 50,
    },
  },
  scales: {
    x: {
      grid: {
        color: 'red',
        borderColor: 'grey',
        tickColor: 'grey'
      }
    },
    y: {
        
        min:1,
        max:12000,
        
    }
},
  title: {
    display: true,
    text: "Total renuve",
    fontFamily: "Raleway",
    fontColor: "#434a52",
    fontSize:20,
  },
  interaction: {
    mode: 'index',
    intersect: false
  }
};

var myChart = new Chart(ctx, {
  type: "line",
  backgroundColor: "red",

  data: data,
  options: options,
});


var ctx = document.getElementById("pieChart").getContext("2d");

var config = {
  type: "doughnut",
  data: {
    datasets: [
      {
        data: {{inventory}},
        backgroundColor: [
          "rgb(246,69,115)",
          "rgb(255,152,1)",
          "rgb(0,162,255)",
          "rgb(124,179,26)",
          'rgb(215, 99, 112)'
        ],
        label: "Inventory",
      },
    ],
    labels: {{item|safe}},
  },
  options: {
    legend: {
      position: "bottom",
    },
    title: {
      display: true,
      text: "inventory",
      fontFamily: "Raleway",
      fontColor: "#434a52",
      fontSize:20,
    },
    responsive: false,
    maintainAspectRatio: false,
    layout: {
      padding: {
        left: 50,
        right: 50,
        top: 50,
        bottom: 50,
      },
    },
  },
};

var myPie = new Chart(ctx, config);

</script>               
{% endblock %}